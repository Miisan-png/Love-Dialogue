{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "LoveDialogue",
	"scopeName": "source.ld",
	"patterns": [
		{
			"match": "//.*$",
			"name": "comment.line.double-slash.ld"
		},
		{
			"match": "^\s*(\\$)\\s*([a-zA-Z_]\\w*)\\s*(=)",
			"captures": {
				"1": { "name": "keyword.operator.ld" },
				"2": { "name": "variable.other.ld" },
				"3": { "name": "keyword.operator.assignment.ld" }
			}
		},
		{
			"match": "(\\[)(if|else|endif)(:?)(.*?)(\\])",
			"captures": {
				"1": { "name": "punctuation.definition.tag.begin.ld" },
				"2": { "name": "keyword.control.flow.ld" },
				"3": { "name": "punctuation.separator.ld" },
				"4": { "name": "string.unquoted.ld" },
				"5": { "name": "punctuation.definition.tag.end.ld" }
			}
		},
		{
			"match": "(\\[)(signal|move|bgm|stop_bgm|load_theme|fade)(:)(.*?)(\\])",
			"captures": {
				"1": { "name": "punctuation.definition.tag.begin.ld" },
				"2": { "name": "entity.name.function.ld" },
				"3": { "name": "punctuation.separator.ld" },
				"4": { "name": "string.unquoted.ld" },
				"5": { "name": "punctuation.definition.tag.end.ld" }
			}
		},
		{
			"match": "^\s*(\\[)([^:]+?)(\\])\\s*$",
			"captures": {
				"1": { "name": "punctuation.definition.tag.begin.ld" },
				"2": { "name": "entity.name.section.ld" },
				"3": { "name": "punctuation.definition.tag.end.ld" }
			}
		},
		{
			"match": "^\s*(@)(sheet|atlas|frame|rect|voice|portrait)\\s+([a-zA-Z0-9_]+)",
			"captures": {
				"1": { "name": "keyword.control.directive.ld" },
				"2": { "name": "storage.type.ld" },
				"3": { "name": "entity.name.type.ld" }
			}
		},
		{
			"match": "^\s*(->)\\s*(.+?)(?=\\[|$)",
			"captures": {
				"1": { "name": "keyword.control.choice.ld" },
				"2": { "name": "string.quoted.double.ld" }
			}
		},
		{
			"match": "(\\[)(target|if)(:)(.*?)(\\])",
			"captures": {
				"1": { "name": "punctuation.definition.tag.begin.ld" },
				"2": { "name": "keyword.other.ld" },
				"3": { "name": "punctuation.separator.ld" },
				"4": { "name": "variable.parameter.ld" },
				"5": { "name": "punctuation.definition.tag.end.ld" }
			}
		},
		{
			"match": "^\s*([a-zA-Z0-9_]+)\\s*(:)",
			"captures": {
				"1": { "name": "entity.name.function.character.ld" },
				"2": { "name": "punctuation.separator.ld" }
			}
		},
		{
			"match": "^\s*([a-zA-Z0-9_]+)\\s*(\\()(.+?)(\\))\\s*(:)",
			"captures": {
				"1": { "name": "entity.name.function.character.ld" },
				"2": { "name": "punctuation.definition.parameters.begin.ld" },
				"3": { "name": "variable.parameter.ld" },
				"4": { "name": "punctuation.definition.parameters.end.ld" },
				"5": { "name": "punctuation.separator.ld" }
			}
		},
		{
			"match": "(\\\$\\{)(.+?)(\\\})",
			"name": "variable.other.interpolation.ld"
		},
		{
			"match": "(\\{)(/?)(wave|shake|jiggle|color|bold|italic)(:?)(.*?)(\\}})",
			"captures": {
				"1": { "name": "punctuation.definition.tag.begin.ld" },
				"2": { "name": "punctuation.definition.tag.begin.ld" },
				"3": { "name": "support.function.effect.ld" },
				"4": { "name": "punctuation.separator.ld" },
				"5": { "name": "constant.numeric.ld" },
				"6": { "name": "punctuation.definition.tag.end.ld" }
			}
		},
		{
			"match": "\\(end\\)",
			"name": "keyword.control.flow.end.ld"
		}
	]
}
